# El entorno fue reiniciado, así que debo volver a crear el archivo index.html con Firebase
firebase_html_path = "/mnt/data/index.html"

firebase_html_content = """
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Sistema de Boletas con Firebase</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    <style>
        body { font-family: sans-serif; padding: 2em; background: #f0f0f0; }
        h1 { color: #333; }
        button { padding: 10px 20px; margin-top: 1em; }
    </style>
</head>
<body>
    <h1>🎫 Sistema de Venta de Boletas - Conectado a Firebase</h1>

    <p>Este sistema guarda las boletas y ventas en Firebase Realtime Database.</p>

    <button onclick="crearBoleta()">Crear boleta de prueba</button>
    <button onclick="leerBoletas()">Leer boletas</button>

    <pre id="output" style="background:#fff; padding: 1em; border:1px solid #ccc;"></pre>

    <script>
        // 🔗 1. Reemplaza estos valores con tu configuración de Firebase
        const firebaseConfig = {
            apiKey: "TU_API_KEY",
            authDomain: "TU_DOMINIO.firebaseapp.com",
            databaseURL: "https://TU_DOMINIO.firebaseio.com",
            projectId: "TU_PROJECT_ID",
            storageBucket: "TU_BUCKET.appspot.com",
            messagingSenderId: "TU_ID",
            appId: "TU_APP_ID"
        };

        // 🔌 2. Inicializar Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // ✅ 3. Función de prueba: crear boleta
        function crearBoleta() {
            const boletaId = Math.floor(Math.random() * 1000) + 1;
            db.ref('boletas/' + boletaId).set({
                numero: boletaId,
                estado: 'vendida',
                vendedor: 'Vendedor demo',
                fecha: new Date().toISOString()
            }).then(() => {
                alert("Boleta creada en Firebase: " + boletaId);
            });
        }

        // 🔍 4. Leer boletas desde Firebase
        function leerBoletas() {
            db.ref('boletas').once('value').then(snapshot => {
                const data = snapshot.val();
                document.getElementById('output').textContent = JSON.stringify(data, null, 2);
            });
        }
    </script>
</body>
</html>
"""

# Escribir el archivo HTML
with open(firebase_html_path, "w", encoding="utf-8") as f:
    f.write(firebase_html_content)

firebase_html_path
